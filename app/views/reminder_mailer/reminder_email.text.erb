This is your reminder email for <%= @section_name %>.

<%- if @data[:EmailReminderItemBirthday] && (@data[:EmailReminderItemBirthday].size > 0) %>
Birthdays
---------
The following <%= (@data[:EmailReminderItemBirthday].size > 1) ? 'members have birthdays' : 'member has a birthday' %> between <%= ordinalized_date(@configuration[:EmailReminderItemBirthday][:the_last_n_months].months.ago, "%d %b %Y") %> and <%= ordinalized_date(@configuration[:EmailReminderItemBirthday][:the_next_n_months].months.from_now, "%d %b %Y") %>:
<%- @data[:EmailReminderItemBirthday].each do |birthday| %>
  * <%= birthday[:name] %> turns <%= birthday[:age_on_birthday] %> on <%= ordinalized_date(birthday[:birthday], "%a the %d of %b %Y") %>
<%- end %>

--
<%- end %>
<%- if @data[:EmailReminderItemDueBadge] && (@data[:EmailReminderItemDueBadge].by_member.size > 0) %>
Due Badges
----------
The following <%= (@data[:EmailReminderItemDueBadge].by_member.size > 1) ? 'members are' : 'member is' %> due badges:
<%- badges_due = @data[:EmailReminderItemDueBadge].by_member %>
<%- badges = @data[:EmailReminderItemDueBadge].descriptions %>
<%- badges_due.each_key do |member| %>
  * <%= member %>:<%- badges_due[member].each do |due_badge| %>
    * <%= badges[due_badge[:badge]][:name] %><%- unless due_badge[:extra_information].blank? %> (<%= due_badge[:extra_information] %>)<%- end %>
    <%- end %>
<%- end %>

--
<%- end %>
<%- if @data[:EmailReminderItemEvent] && (@data[:EmailReminderItemEvent].size > 0) %>
Events
------
The following events are happening in the next <%= pluralize(@configuration[:EmailReminderItemEvent][:the_next_n_months], 'month') %>:
<%- @data[:EmailReminderItemEvent].each do |event| %>
  * <%= event.name %><%- if event.start %> on <%= ordinalized_date(event.start, "%a %d of %b %Y at %H:%M") %><%- end %>
<%- end %>

--
<%- end %>
<%- if @data[:EmailReminderItemProgramme] && (@data[:EmailReminderItemProgramme].size > 0) %>
Programme
---------
The programme for the following <%= pluralize(@configuration[:EmailReminderItemProgramme][:the_next_n_weeks], 'week') %> is:
<%- @data[:EmailReminderItemProgramme].each do |programme| %>
  * <%= programme[:title] %><%- if programme[:start] %> on <%= ordinalized_date(programme[:start], "%a %d of %b %Y at %H:%M") %><%- end %>
  <%- programme[:activities].each do |activity| %>
    * <%= activity %>
  <%- end %>
<%- end %>

--
<%- end %>
<%- if @data[:EmailReminderItemNotSeen] && (@data[:EmailReminderItemNotSeen].size > 0) %>
Members Not Seen
----------------
The following <%= (@data[:EmailReminderItemNotSeen].size > 1) ? 'members have' : 'member has' %> not been seen for at least the last <%= pluralize(@configuration[:EmailReminderItemNotSeen][:the_last_n_weeks], 'week') %>:
<%- @data[:EmailReminderItemNotSeen].each do |member| %>
  * <%= member[:firstname] %> <%= member[:lastname] %>
<%- end %>

--
<%- end %>

Please note that if you have configured your reminder to include an item which has not it just means there is no information fot that item to display.